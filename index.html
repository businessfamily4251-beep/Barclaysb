<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- TITRE MIS √Ä JOUR POUR NETLIFY -->
    <title>Barclays Banque - Espace Client</title>
    <!-- Inclure Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuration des polices et des classes personnalis√©es pour Tailwind -->
    <style>
        .font-sans {
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }
        .font-mono {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }
        /* Style de base pour les transitions */
        .animate-in {
            animation-name: fadeIn;
            animation-duration: 0.3s;
            animation-fill-mode: both;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .slide-in-from-top-4 {
            animation-name: slideInTop;
        }
        @keyframes slideInTop {
            from { transform: translateY(-1rem); }
            to { transform: translateY(0); }
        }
    </style>
    <!-- Inclure React, ReactDOM, Lucide Icons, Recharts et Framer Motion -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/recharts/umd/Recharts.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <!-- Babel pour transformer le JSX dans le navigateur -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gray-50 text-slate-900 font-sans">
    <div id="root"></div>

    <script type="text/babel">
        // Importation des composants Lucide n√©cessaires
        const { 
            LayoutDashboard, 
            ArrowLeftRight, 
            CreditCard, 
            HandCoins, 
            Settings, 
            LogOut, 
            Bell, 
            Search, 
            TrendingUp, 
            TrendingDown, 
            ChevronRight,
            Plus,
            Eye,
            EyeOff,
            Download,
            X,
            CheckCircle2,
            Clock,
            AlertCircle,
            Filter,
            PieChart,
            ShieldCheck,
            Zap,
            Building2
        } = lucide;

        const { 
            LineChart, 
            Line, 
            XAxis, 
            YAxis, 
            CartesianGrid, 
            Tooltip, 
            ResponsiveContainer, 
            AreaChart, 
            Area 
        } = Recharts;

        const { motion, AnimatePresence } = FramerMotion;

        // DONN√âES INITIALES (Simulation d'une API)
        const INITIAL_DATA = {
            user: {
                name: "Alexandre Dupuis",
                accountNumber: "FR76 3000 6000 0123 4567 8901 234",
                avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=crop&q=80&w=100",
                lastLogin: "15 Oct 2024 √† 10:24"
            },
            accounts: [
                { id: 1, name: "Compte Courant", balance: 5240.12, change: 12.5, type: "checking" },
                { id: 2, name: "Livret A", balance: 12450.00, change: 2.1, type: "savings" },
                { id: 3, name: "Compte Titres", balance: 8720.45, change: -4.2, type: "investment" }
            ],
            transactions: [
                { id: 1, title: "Loyer Octobre", category: "Logement", amount: -1200.00, date: "2024-10-01", status: "completed" },
                { id: 2, title: "Salaire Septembre", category: "Revenus", amount: 3450.00, date: "2024-09-30", status: "completed" },
                { id: 3, title: "Supermarch√©", category: "Alimentation", amount: -84.25, date: "2024-10-05", status: "completed" },
                { id: 4, title: "Netflix", category: "Loisirs", amount: -17.99, date: "2024-10-06", status: "completed" },
                { id: 5, title: "Remboursement SNCF", category: "Transport", amount: 45.50, date: "2024-10-07", status: "pending" },
                { id: 6, title: "Restaurant Le Gourmet", category: "Alimentation", amount: -124.00, date: "2024-10-08", status: "completed" }
            ],
            chartData: [
                { name: 'Lun', amount: 4200 },
                { name: 'Mar', amount: 4150 },
                { name: 'Mer', amount: 4300 },
                { name: 'Jeu', amount: 4280 },
                { name: 'Ven', amount: 4500 },
                { name: 'Sam', amount: 4600 },
                { name: 'Dim', amount: 5240 },
            ]
        };

        // --- COMPOSANTS UI DE BASE ---

        const Button = ({ children, variant = "primary", className = "", ...props }) => {
            const variants = {
                primary: "bg-blue-600 text-white hover:bg-blue-700",
                secondary: "bg-gray-100 text-gray-900 hover:bg-gray-200",
                outline: "border border-gray-200 bg-transparent hover:bg-gray-50",
                ghost: "hover:bg-gray-100",
                danger: "bg-red-500 text-white hover:bg-red-600"
            };
            
            return (
                <button 
                    className={`px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center gap-2 ${variants[variant]} ${className}`}
                    {...props}
                >
                    {children}
                </button>
            );
        };

        const Card = ({ children, className = "" }) => (
            <div className={`bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden ${className}`}>
                {children}
            </div>
        );

        // --- VUES DE L'APPLICATION ---

        const DashboardView = ({ data, onNewTransfer, onShowReceipt, showBalance, toggleBalanceVisibility }) => {
            const totalBalance = data.accounts.reduce((acc, curr) => acc + curr.balance, 0);

            return (
                <div className="space-y-6">
                    {/* Header Statistics */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <Card className="p-6 bg-gradient-to-br from-blue-600 to-blue-700 text-white">
                            <div className="flex justify-between items-start mb-4">
                                <span className="text-blue-100">Solde Total</span>
                                <button onClick={toggleBalanceVisibility} className="p-1 hover:bg-white/10 rounded">
                                    {showBalance ? <Eye size={20} /> : <EyeOff size={20} />}
                                </button>
                            </div>
                            <div className="text-3xl font-bold mb-2">
                                {showBalance ? `${totalBalance.toLocaleString('fr-FR')} ‚Ç¨` : '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ç¨'}
                            </div>
                            <div className="flex items-center text-sm text-blue-100">
                                <TrendingUp size={16} className="mr-1" />
                                <span>+2.4% ce mois-ci</span>
                            </div>
                        </Card>
                        
                        <Card className="p-6">
                            <div className="flex justify-between items-start mb-4 text-gray-500">
                                <span>Revenus</span>
                                <div className="p-2 bg-green-50 text-green-600 rounded-lg">
                                    <TrendingUp size={20} />
                                </div>
                            </div>
                            <div className="text-2xl font-bold">+ 4,250.00 ‚Ç¨</div>
                            <div className="text-sm text-gray-400 mt-2">Derniers 30 jours</div>
                        </Card>

                        <Card className="p-6">
                            <div className="flex justify-between items-start mb-4 text-gray-500">
                                <span>D√©penses</span>
                                <div className="p-2 bg-red-50 text-red-600 rounded-lg">
                                    <TrendingDown size={20} />
                                </div>
                            </div>
                            <div className="text-2xl font-bold">- 1,840.25 ‚Ç¨</div>
                            <div className="text-sm text-gray-400 mt-2">Derniers 30 jours</div>
                        </Card>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        {/* Accounts List */}
                        <div className="lg:col-span-2 space-y-6">
                            <Card className="p-6">
                                <h2 className="text-lg font-bold mb-6 flex items-center justify-between">
                                    Vos Comptes
                                    <Button variant="ghost" className="text-blue-600 text-sm">G√©rer</Button>
                                </h2>
                                <div className="space-y-4">
                                    {data.accounts.map(acc => (
                                        <div key={acc.id} className="flex items-center justify-between p-4 border border-gray-100 rounded-xl hover:bg-gray-50 transition-colors">
                                            <div className="flex items-center gap-4">
                                                <div className="w-10 h-10 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center">
                                                    {acc.type === 'checking' ? <Building2 size={20} /> : <PieChart size={20} />}
                                                </div>
                                                <div>
                                                    <div className="font-semibold">{acc.name}</div>
                                                    <div className="text-sm text-gray-400">Terminant par {INITIAL_DATA.user.accountNumber.slice(-4)}</div>
                                                </div>
                                            </div>
                                            <div className="text-right">
                                                <div className="font-bold">
                                                    {showBalance ? `${acc.balance.toLocaleString('fr-FR')} ‚Ç¨` : '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ç¨'}
                                                </div>
                                                <div className={`text-xs ${acc.change >= 0 ? 'text-green-500' : 'text-red-500'}`}>
                                                    {acc.change >= 0 ? '+' : ''}{acc.change}%
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </Card>

                            <Card className="p-6">
                                <div className="flex items-center justify-between mb-6">
                                    <h2 className="text-lg font-bold">√âvolution du Solde</h2>
                                    <select className="bg-gray-50 border-none text-sm rounded-lg focus:ring-0">
                                        <option>7 derniers jours</option>
                                        <option>30 derniers jours</option>
                                    </select>
                                </div>
                                <div className="h-64 w-full">
                                    <ResponsiveContainer width="100%" height="100%">
                                        <AreaChart data={data.chartData}>
                                            <defs>
                                                <linearGradient id="colorAmount" x1="0" y1="0" x2="0" y2="1">
                                                    <stop offset="5%" stopColor="#2563eb" stopOpacity={0.1}/>
                                                    <stop offset="95%" stopColor="#2563eb" stopOpacity={0}/>
                                                </linearGradient>
                                            </defs>
                                            <CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#f1f5f9" />
                                            <XAxis dataKey="name" axisLine={false} tickLine={false} tick={{fill: '#94a3b8', fontSize: 12}} />
                                            <YAxis hide />
                                            <Tooltip 
                                                contentStyle={{borderRadius: '8px', border: 'none', boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1)'}}
                                                formatter={(value) => [`${value} ‚Ç¨`, 'Solde']}
                                            />
                                            <Area type="monotone" dataKey="amount" stroke="#2563eb" strokeWidth={2} fillOpacity={1} fill="url(#colorAmount)" />
                                        </AreaChart>
                                    </ResponsiveContainer>
                                </div>
                            </Card>
                        </div>

                        {/* Recent Transactions */}
                        <div className="lg:col-span-1">
                            <Card className="p-6 h-full">
                                <h2 className="text-lg font-bold mb-6">Transactions R√©centes</h2>
                                <div className="space-y-6">
                                    {data.transactions.map(tx => (
                                        <div 
                                            key={tx.id} 
                                            className="flex items-center justify-between group cursor-pointer"
                                            onClick={() => onShowReceipt(tx)}
                                        >
                                            <div className="flex items-center gap-3">
                                                <div className={`w-10 h-10 rounded-lg flex items-center justify-center ${
                                                    tx.amount < 0 ? 'bg-red-50 text-red-600' : 'bg-green-50 text-green-600'
                                                }`}>
                                                    {tx.amount < 0 ? <TrendingDown size={20} /> : <TrendingUp size={20} />}
                                                </div>
                                                <div>
                                                    <div className="text-sm font-semibold group-hover:text-blue-600 transition-colors">{tx.title}</div>
                                                    <div className="text-xs text-gray-400">{tx.category} ‚Ä¢ {tx.date}</div>
                                                </div>
                                            </div>
                                            <div className={`text-sm font-bold ${tx.amount < 0 ? 'text-gray-900' : 'text-green-600'}`}>
                                                {tx.amount < 0 ? '' : '+'}{tx.amount.toFixed(2)} ‚Ç¨
                                            </div>
                                        </div>
                                    ))}
                                </div>
                                <Button variant="outline" className="w-full mt-8 text-sm">Voir tout l'historique</Button>
                            </Card>
                        </div>
                    </div>
                </div>
            );
        };

        const TransferView = ({ onTransfer }) => {
            const [amount, setAmount] = React.useState('');
            const [beneficiary, setBeneficiary] = React.useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                onTransfer({ amount: parseFloat(amount), beneficiary });
                setAmount('');
                setBeneficiary('');
            };

            return (
                <div className="max-w-2xl mx-auto">
                    <Card className="p-8">
                        <h2 className="text-2xl font-bold mb-6">Nouveau Virement</h2>
                        <form onSubmit={handleSubmit} className="space-y-6">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Compte √† d√©biter</label>
                                <select className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none">
                                    <option>Compte Courant (5 240,12 ‚Ç¨)</option>
                                    <option>Livret A (12 450,00 ‚Ç¨)</option>
                                </select>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">B√©n√©ficiaire</label>
                                <div className="grid grid-cols-2 gap-4 mb-4">
                                    <Button type="button" variant="outline" className="h-12 border-blue-200 bg-blue-50 text-blue-700">Mes Comptes</Button>
                                    <Button type="button" variant="outline" className="h-12">Nouveau Tiers</Button>
                                </div>
                                <input 
                                    type="text"
                                    required
                                    placeholder="Nom ou IBAN"
                                    value={beneficiary}
                                    onChange={(e) => setBeneficiary(e.target.value)}
                                    className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Montant</label>
                                <div className="relative">
                                    <input 
                                        type="number"
                                        required
                                        placeholder="0.00"
                                        value={amount}
                                        onChange={(e) => setAmount(e.target.value)}
                                        className="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-2xl font-bold"
                                    />
                                    <span className="absolute right-4 top-1/2 -translate-y-1/2 text-xl font-bold text-gray-400">‚Ç¨</span>
                                </div>
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Motif (optionnel)</label>
                                <input 
                                    type="text"
                                    placeholder="Ex: Cadeau d'anniversaire"
                                    className="w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none"
                                />
                            </div>
                            <Button type="submit" className="w-full py-4 text-lg">Confirmer le virement</Button>
                        </form>
                    </Card>
                </div>
            );
        };

        const CardView = ({ userName }) => {
            const [isLocked, setIsLocked] = React.useState(false);
            
            return (
                <div className="max-w-4xl mx-auto space-y-6">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
                        {/* Virtual Card Rendering */}
                        <div className="relative aspect-[1.586/1] w-full rounded-2xl bg-gradient-to-br from-slate-900 via-slate-800 to-blue-900 p-8 text-white shadow-2xl overflow-hidden group">
                            <div className="absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full -mr-32 -mt-32 blur-3xl group-hover:bg-blue-500/20 transition-colors"></div>
                            <div className="flex justify-between items-start relative z-10">
                                <div className="text-xl font-bold tracking-widest italic">BARCLAYS</div>
                                <div className="w-12 h-8 bg-amber-200/20 rounded-md backdrop-blur-sm border border-amber-200/30 flex items-center justify-center">
                                    <div className="w-8 h-6 bg-gradient-to-r from-amber-400 to-amber-200 rounded-sm"></div>
                                </div>
                            </div>
                            <div className="mt-12 space-y-4 relative z-10">
                                <div className="text-2xl font-mono tracking-[0.2em]">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 8842</div>
                                <div className="flex gap-8 text-xs uppercase tracking-widest opacity-60">
                                    <div>Exp: 08/27</div>
                                    <div>CVV: ‚Ä¢‚Ä¢‚Ä¢</div>
                                </div>
                                <div className="text-lg font-medium tracking-wide">{userName.toUpperCase()}</div>
                            </div>
                            <div className="absolute bottom-8 right-8 flex items-center gap-1 opacity-80">
                                <div className="w-8 h-8 rounded-full bg-red-500/80"></div>
                                <div className="w-8 h-8 rounded-full bg-amber-500/80 -ml-4"></div>
                            </div>
                        </div>

                        <div className="space-y-4">
                            <h2 className="text-2xl font-bold">Ma Carte Visa Infinite</h2>
                            <p className="text-gray-500 italic">"Votre carte est active et s√©curis√©e."</p>
                            <div className="grid grid-cols-2 gap-3 pt-4">
                                <Button variant={isLocked ? "primary" : "outline"} onClick={() => setIsLocked(!isLocked)} className="flex-col p-4 h-auto">
                                    <ShieldCheck size={24} className="mb-2" />
                                    <span>{isLocked ? "D√©bloquer" : "Bloquer"}</span>
                                </Button>
                                <Button variant="outline" className="flex-col p-4 h-auto">
                                    <Search size={24} className="mb-2" />
                                    <span>Code PIN</span>
                                </Button>
                            </div>
                        </div>
                    </div>

                    <Card className="p-6">
                        <h3 className="font-bold mb-4">R√©glages et Limites</h3>
                        <div className="space-y-6">
                            {[
                                { label: "Plafond de paiement mensuel", value: "5 000 ‚Ç¨", used: 1240 },
                                { label: "Plafond de retrait hebdomadaire", value: "1 000 ‚Ç¨", used: 250 }
                            ].map((limit, idx) => (
                                <div key={idx}>
                                    <div className="flex justify-between text-sm mb-2">
                                        <span className="text-gray-500">{limit.label}</span>
                                        <span className="font-semibold">{limit.used} ‚Ç¨ / {limit.value}</span>
                                    </div>
                                    <div className="w-full h-2 bg-gray-100 rounded-full overflow-hidden">
                                        <div 
                                            className="h-full bg-blue-600 rounded-full" 
                                            style={{ width: `${(limit.used / parseInt(limit.value.replace(' ', ''))) * 100}%` }}
                                        ></div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </Card>
                </div>
            );
        };

        const LoanView = () => (
            <div className="max-w-4xl mx-auto space-y-6">
                <Card className="p-8 bg-blue-600 text-white overflow-hidden relative">
                    <div className="relative z-10">
                        <h2 className="text-3xl font-bold mb-4">Un projet en t√™te ?</h2>
                        <p className="text-blue-100 mb-6 text-lg max-w-lg">
                            Profitez de nos taux exceptionnels √† partir de 2.95% TAEG fixe sur les pr√™ts personnels. R√©ponse de principe imm√©diate.
                        </p>
                        <Button className="bg-white text-blue-600 hover:bg-blue-50 border-none px-8 py-3 rounded-full text-lg">
                            Simuler mon cr√©dit
                        </Button>
                    </div>
                    <Zap className="absolute right-[-40px] top-[-40px] w-64 h-64 text-blue-500 opacity-30" />
                </Card>

                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <Card className="p-6">
                        <h3 className="font-bold mb-4 flex items-center gap-2">
                            <HandCoins className="text-blue-600" /> Vos Pr√™ts en Cours
                        </h3>
                        <div className="text-center py-8 text-gray-400">
                            Vous n'avez aucun pr√™t actif pour le moment.
                        </div>
                    </Card>
                    <Card className="p-6">
                        <h3 className="font-bold mb-4">Offres Recommand√©es</h3>
                        <div className="space-y-4">
                            <div className="p-4 border border-blue-100 bg-blue-50 rounded-xl">
                                <div className="font-bold text-blue-900">Pr√™t Immobilier</div>
                                <div className="text-sm text-blue-700">Taux pr√©f√©rentiel √† 3.10%</div>
                            </div>
                            <div className="p-4 border border-gray-100 rounded-xl">
                                <div className="font-bold">Pr√™t √âtudiant</div>
                                <div className="text-sm text-gray-500">Jusqu'√† 45 000 ‚Ç¨ √† 0.90%</div>
                            </div>
                        </div>
                    </Card>
                </div>
            </div>
        );

        const SettingsView = () => (
            <div className="max-w-2xl mx-auto space-y-6">
                <h2 className="text-2xl font-bold mb-6">Param√®tres</h2>
                <Card>
                    <div className="divide-y divide-gray-100">
                        {[
                            { icon: <ShieldCheck />, label: "S√©curit√© & Mot de passe", sub: "Double authentification activ√©e" },
                            { icon: <Bell />, label: "Notifications", sub: "SMS, Email et Push" },
                            { icon: <PieChart />, label: "Affichage & Devises", sub: "Euro (‚Ç¨), Mode clair" },
                            { icon: <HandCoins />, label: "Frais & Commissions", sub: "Consulter la grille tarifaire" }
                        ].map((item, idx) => (
                            <div key={idx} className="p-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer transition-colors">
                                <div className="flex items-center gap-4">
                                    <div className="text-blue-600">{item.icon}</div>
                                    <div>
                                        <div className="font-semibold">{item.label}</div>
                                        <div className="text-xs text-gray-400">{item.sub}</div>
                                    </div>
                                </div>
                                <ChevronRight className="text-gray-300" />
                            </div>
                        ))}
                    </div>
                </Card>
                <Button variant="danger" className="w-full flex items-center gap-2">
                    <LogOut size={20} /> Se d√©connecter
                </Button>
            </div>
        );

        // --- COMPOSANTS DE MODALES ---

        const Modal = ({ isOpen, onClose, title, children }) => (
            <AnimatePresence>
                {isOpen && (
                    <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                        <motion.div 
                            initial={{ opacity: 0 }}
                            animate={{ opacity: 1 }}
                            exit={{ opacity: 0 }}
                            onClick={onClose}
                            className="absolute inset-0 bg-black/40 backdrop-blur-sm"
                        />
                        <motion.div 
                            initial={{ scale: 0.95, opacity: 0, y: 20 }}
                            animate={{ scale: 1, opacity: 1, y: 0 }}
                            exit={{ scale: 0.95, opacity: 0, y: 20 }}
                            className="bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative z-10"
                        >
                            <div className="p-6 border-b border-gray-100 flex justify-between items-center">
                                <h3 className="text-xl font-bold">{title}</h3>
                                <button onClick={onClose} className="p-2 hover:bg-gray-100 rounded-full transition-colors">
                                    <X size={20} />
                                </button>
                            </div>
                            <div className="p-6">
                                {children}
                            </div>
                        </motion.div>
                    </div>
                )}
            </AnimatePresence>
        );

        const ReceiptModal = ({ transaction, onClose }) => {
            if (!transaction) return null;
            
            return (
                <div className="space-y-6">
                    <div className="text-center pb-6">
                        <div className={`w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4 ${
                            transaction.amount < 0 ? 'bg-red-50 text-red-600' : 'bg-green-50 text-green-600'
                        }`}>
                            {transaction.status === 'completed' ? <CheckCircle2 size={32} /> : <Clock size={32} />}
                        </div>
                        <h4 className="text-3xl font-bold">{transaction.amount.toFixed(2)} ‚Ç¨</h4>
                        <p className="text-gray-400">{transaction.title}</p>
                    </div>
                    
                    <div className="space-y-4 border-t border-dashed border-gray-200 pt-6">
                        <div className="flex justify-between text-sm">
                            <span className="text-gray-500">Statut</span>
                            <span className="font-semibold text-green-600 uppercase tracking-wider">{transaction.status}</span>
                        </div>
                        <div className="flex justify-between text-sm">
                            <span className="text-gray-500">Date & Heure</span>
                            <span className="font-semibold">{transaction.date} √† 14:32</span>
                        </div>
                        <div className="flex justify-between text-sm">
                            <span className="text-gray-500">Cat√©gorie</span>
                            <span className="font-semibold">{transaction.category}</span>
                        </div>
                        <div className="flex justify-between text-sm">
                            <span className="text-gray-500">R√©f√©rence</span>
                            <span className="font-mono text-xs text-gray-400">#TRX-948271045</span>
                        </div>
                    </div>

                    <div className="grid grid-cols-2 gap-3 pt-6">
                        <Button variant="outline" className="w-full">
                            <Download size={18} /> Re√ßu
                        </Button>
                        <Button variant="primary" className="w-full">Partager</Button>
                    </div>
                </div>
            );
        };

        // --- COMPOSANT PRINCIPAL (APP) ---

        function App() {
            const [currentView, setCurrentView] = React.useState('dashboard');
            const [isSidebarOpen, setIsSidebarOpen] = React.useState(true);
            const [isTransferModalOpen, setIsTransferModalOpen] = React.useState(false);
            const [selectedTransaction, setSelectedTransaction] = React.useState(null);
            const [notifications, setNotifications] = React.useState(3);
            const [showBalance, setShowBalance] = React.useState(true); // √âtat global pour la visibilit√© du solde

            // Gestion des transferts
            const handleTransfer = (details) => {
                setIsTransferModalOpen(true);
                // Dans une vraie app, on ferait un appel API ici
            };

            const handleShowReceipt = (tx) => {
                setSelectedTransaction(tx);
            };

            const toggleBalanceVisibility = () => {
                setShowBalance(!showBalance);
            };

            const navItems = [
                { id: 'dashboard', icon: <LayoutDashboard size={22} />, label: "Dashboard" },
                { id: 'transfer', icon: <ArrowLeftRight size={22} />, label: "Virements" },
                { id: 'card', icon: <CreditCard size={22} />, label: "Ma Carte" },
                { id: 'loan', icon: <HandCoins size={22} />, label: "Cr√©dits" },
                { id: 'settings', icon: <Settings size={22} />, label: "Param√®tres" }
            ];

            return (
                <div className="min-h-screen flex bg-gray-50">
                    {/* Sidebar */}
                    <aside className={`
                        fixed inset-y-0 left-0 z-40 w-64 bg-white border-r border-gray-100 transition-transform duration-300 lg:translate-x-0
                        ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}
                    `}>
                        <div className="p-6">
                            <div className="flex items-center gap-3 text-blue-600 mb-10">
                                <div className="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white">
                                    <TrendingUp size={24} />
                                </div>
                                <span className="text-xl font-black tracking-tight text-slate-800">BARCLAYS</span>
                            </div>

                            <nav className="space-y-1">
                                {navItems.map(item => (
                                    <button
                                        key={item.id}
                                        onClick={() => setCurrentView(item.id)}
                                        className={`
                                            w-full flex items-center gap-4 px-4 py-3 rounded-xl font-medium transition-all duration-200
                                            ${currentView === item.id ? 'bg-blue-600 text-white shadow-lg shadow-blue-200' : 'text-gray-500 hover:bg-gray-50 hover:text-blue-600'}
                                        `}
                                    >
                                        {item.icon}
                                        <span>{item.label}</span>
                                    </button>
                                ))}
                            </nav>
                        </div>

                        <div className="absolute bottom-0 left-0 right-0 p-6">
                            <Card className="p-4 bg-gray-900 text-white">
                                <div className="text-sm font-semibold mb-2">Besoin d'aide ?</div>
                                <div className="text-xs text-gray-400 mb-4">Conseiller disponible 24/7</div>
                                <Button className="w-full bg-blue-600 hover:bg-blue-700 border-none text-xs py-2">
                                    Chatter maintenant
                                </Button>
                            </Card>
                        </div>
                    </aside>

                    {/* Main Content Area */}
                    <div className={`flex-1 flex flex-col transition-all duration-300 ${isSidebarOpen ? 'lg:ml-64' : ''}`}>
                        {/* Header */}
                        <header className="h-20 bg-white/80 backdrop-blur-md border-b border-gray-100 flex items-center justify-between px-8 sticky top-0 z-30">
                            <div className="flex items-center gap-4">
                                <button onClick={() => setIsSidebarOpen(!isSidebarOpen)} className="p-2 hover:bg-gray-100 rounded-lg lg:hidden">
                                    <lucide.Menu />
                                </button>
                                <div>
                                    <h1 className="text-xl font-bold">Bonjour, {INITIAL_DATA.user.name.split(' ')[0]} üëã</h1>
                                    <p className="text-xs text-gray-400">Derni√®re connexion: {INITIAL_DATA.user.lastLogin}</p>
                                </div>
                            </div>

                            <div className="flex items-center gap-4">
                                <div className="hidden md:flex relative group">
                                    <Search className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600 transition-colors" size={18} />
                                    <input 
                                        type="text" 
                                        placeholder="Rechercher une transaction..." 
                                        className="bg-gray-50 border-none rounded-full pl-10 pr-4 py-2 w-64 focus:ring-2 focus:ring-blue-100 outline-none text-sm transition-all"
                                    />
                                </div>
                                <button className="p-2 text-gray-400 hover:bg-gray-50 rounded-full relative">
                                    <Bell size={22} />
                                    {notifications > 0 && (
                                        <span className="absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white"></span>
                                    )}
                                </button>
                                <div className="h-10 w-10 rounded-full overflow-hidden border-2 border-gray-100 cursor-pointer">
                                    <img src={INITIAL_DATA.user.avatar} alt="Profile" />
                                </div>
                            </div>
                        </header>

                        {/* Modales */}
                        <Modal 
                            isOpen={isTransferModalOpen} 
                            onClose={() => setIsTransferModalOpen(false)}
                            title="Virement R√©ussi"
                        >
                            <div className="text-center py-4">
                                <div className="w-20 h-20 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <CheckCircle2 size={48} />
                                </div>
                                <h4 className="text-2xl font-bold mb-2">F√©licitations !</h4>
                                <p className="text-gray-500 mb-8">Votre virement a bien √©t√© pris en compte et sera trait√© dans les plus brefs d√©lais.</p>
                                <Button variant="primary" className="w-full py-3" onClick={() => setIsTransferModalOpen(false)}>
                                    Retour au tableau de bord
                                </Button>
                            </div>
                        </Modal>

                        <Modal
                            isOpen={!!selectedTransaction}
                            onClose={() => setSelectedTransaction(null)}
                            title="D√©tails de l'op√©ration"
                        >
                            <ReceiptModal transaction={selectedTransaction} onClose={() => setSelectedTransaction(null)} />
                        </Modal>

                        {/* Page Content */}
                        <main className="p-8">
                            <div className="animate-in slide-in-from-top-4 duration-500">
                                {currentView === 'dashboard' && (
                                    <DashboardView 
                                        data={INITIAL_DATA} 
                                        onNewTransfer={() => setIsTransferModalOpen(true)} 
                                        onShowReceipt={handleShowReceipt} // Nouvelle prop pour afficher le re√ßu
                                        // NOUVELLES PROPS POUR L'AFFICHAGE DU SOLDE
                                        showBalance={showBalance}
                                        toggleBalanceVisibility={toggleBalanceVisibility}
                                    />
                                )}
                                {currentView === 'transfer' && (
                                    <TransferView onTransfer={handleTransfer} />
                                )}
                                {currentView === 'card' && (
                                    <CardView userName={INITIAL_DATA.user.name} />
                                )}
                                {currentView === 'loan' && (
                                    <LoanView />
                                )}
                                {currentView === 'settings' && (
                                    <SettingsView />
                                )}
                            </div>
                        </main>
                    </div>
                </div>
            );
        }

        // Rendu de l'application dans l'√©l√©ment root
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>